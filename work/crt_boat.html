<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
		<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
		<link rel="stylesheet" href="crt.css" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js" type="text/javascript"></script>
    <script src="http://acuth.github.io/awac/awac.js" type="text/javascript"></script>
    <script type="text/javascript">

function onAction(action) {
  if (action == 'back') 
    _awac.endPage();
  else if (action == 'next') {
    var boatName = $('#boatname').val();    
    var boatNumber = $('#boatnumber').val();
    if (!boatName && !boatNumber) 
      _awac.alert('No boat details supplied');
    else {
      var boat = {};
      boat.name = boatName;
      boat.number = boatNumber;
      boat.op = 'save';
      _awac.replacePage('report','crt_report.html',boat,true);
    }
  }
}

function doOnLoad() {
  _awac = new Awac('_awac'); 
  _awac.setOnAction(onAction);
	_awac.setHomeItem({'label':'Back','icon':'close','action':'back'});
	_awac.addActionBarItem({'label':'NEXT','action':'next'});
	var initp = _awac.getInitParam();
	if (initp) {
	  if (initp.name) $('#boatname').val(initp.name);  
	  if (initp.number) $('#boatnumber').val(initp.number);  
	}
  _awac.startPage();
}
  </script>
  </head>
  <body onload="doOnLoad();">
    <div class="content">

<h3>Select Boat</h3>

<input id="boatname" type="text" placeholder="Boat Name" />
<input id="boatnumber" type="text" placeholder="Boat Index" />


<p id="debug-actions">
  <a href="javascript:onAction('next');">NEXT</a>
</p>
    </div>
  </body>
</html>